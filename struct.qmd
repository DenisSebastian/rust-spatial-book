---
subtitle: "Dise침ando una Ciudad en Rust"
---

# Structs, Enums y Traits

Rust ofrece herramientas poderosas para organizar datos y definir comportamientos. Los **Structs**, **Enums**, y **Traits** son fundamentales para escribir c칩digo limpio, eficiente y mantenible.

En este cap칤tulo, exploraremos c칩mo estos tres conceptos funcionan y se relacionan, utilizando la analog칤a de una **ciudad** para facilitar su comprensi칩n.



## Structs: Los Planos de los Edificios

### 쯈u칠 son los Structs?

Un `struct` es una **estructura de datos** que agrupa m칰ltiples valores bajo un solo nombre. Estos valores, conocidos como **campos**, pueden ser de diferentes tipos. Los structs se utilizan para representar entidades concretas, como objetos del mundo real o elementos l칩gicos.

### Tipos de Structs

Rust ofrece tres tipos principales de structs:

1. **Structs Nombrados**: Tienen campos con nombres expl칤citos.
2. **Structs Tuple**: Contienen valores sin nombres espec칤ficos.
3. **Structs Unitarios**: No contienen campos y sirven como marcadores o identificadores.

**Relaci칩n con el C칩digo**

Los structs son fundamentales para modelar datos complejos. Permiten agrupar atributos relacionados de forma estructurada.


::: {.callout-tip}
##  游뎲 Analog칤a: Un Plano Arquitect칩nico


Piensa en un struct como el plano de un edificio. Este plano describe caracter칤sticas como:

- Nombre del edificio
- N칰mero de pisos
- Color
:::


Cada struct es un plano 칰nico que define c칩mo construir un tipo de edificio.


Ejemplo de Structs

```rust
// Struct nombrado
struct Edificio {
    nombre: String,
    pisos: u32,
    color: String,
}

// Struct tuple
struct Coordenadas(f64, f64);

// Struct unitario
struct Se침alDeTrafico;
```

---

## Enums: Tipos de Edificios en la Ciudad

### 쯈u칠 son los Enums?

Un `enum` es un tipo de dato que representa un conjunto de **variantes**. Cada variante puede almacenar datos asociados, lo que permite modelar diferentes estados o tipos dentro de un mismo contexto.

**Relaci칩n con el C칩digo**

Los enums son ideales para manejar situaciones en las que un valor puede tener m칰ltiples formas o estados. Adem치s, permiten incluir datos adicionales en cada variante.

::: {.callout-tip}
##  游뎲 Analog칤a: Un Cat치logo de Tipos de Edificios


Imagina que el enum es un cat치logo de edificios en la ciudad. Cada variante describe un tipo de edificio:

- Una casa con habitaciones y un jard칤n.
- Un hospital con camas y un 치rea de emergencias.
- Una oficina con empleados y pisos.
:::


Ejemplo de Enums

```rust
enum TipoDeEdificio {
    Casa { habitaciones: u32, jardin: bool },
    Hospital { camas: u32, tiene_emergencias: bool },
    Oficina { empleados: u32, pisos: u32 },
}
```


## Traits: Las Habilidades de los Edificios

### 쯈u칠 son los Traits?

Un `trait` define un conjunto de **m칠todos** que un tipo debe implementar. Son similares a interfaces en otros lenguajes y permiten compartir comportamientos entre tipos diferentes.

**Relaci칩n con el C칩digo**

Los traits permiten que diferentes tipos, como structs y enums, compartan comportamientos. Tambi칠n son esenciales para el polimorfismo en Rust.



::: {.callout-tip}
##  游뎲 Analog칤a: Funcionalidades de los Edificios

Un trait es como una funcionalidad que los edificios pueden adoptar:

- Algunos edificios tienen luces autom치ticas.
- Otros pueden ser resistentes a terremotos.
- Algunos tienen ascensores.

Cada edificio puede implementar uno o m치s traits seg칰n las funcionalidades que necesita.
:::

Ejemplo de Traits

```rust
trait Habilidad {
    fn activar_funcion(&self) -> String;
}

impl Habilidad for Edificio {
    fn activar_funcion(&self) -> String {
        format!("El edificio {} activa sus luces autom치ticas.", self.nombre)
    }
}
```

---

## Ejemplo Integrado: Dise침ando una Ciudad con Structs, Enums y Traits

Combinemos estos tres conceptos para dise침ar una ciudad con edificios, tipos de edificios y habilidades compartidas.

C칩digo de Ejemplo

```rust
// Struct para representar un edificio
struct Edificio {
    nombre: String,
    pisos: u32,
}

// Enum para representar tipos de edificios
enum TipoDeEdificio {
    Casa,
    Hospital,
    Oficina,
}

// Trait para definir habilidades
trait Habilidad {
    fn activar_funcion(&self) -> String;
}

// Implementaci칩n del Trait para Struct
impl Habilidad for Edificio {
    fn activar_funcion(&self) -> String {
        format!("El edificio {} activa sus luces autom치ticas.", self.nombre)
    }
}

// Implementaci칩n del Trait para Enum
impl Habilidad for TipoDeEdificio {
    fn activar_funcion(&self) -> String {
        match self {
            TipoDeEdificio::Casa => "La casa utiliza energ칤a renovable.".to_string(),
            TipoDeEdificio::Hospital => "El hospital activa su sistema de emergencias.".to_string(),
            TipoDeEdificio::Oficina => "La oficina enciende su aire acondicionado.".to_string(),
        }
    }
}

fn main() {
    let edificio = Edificio {
        nombre: "Edificio Central".to_string(),
        pisos: 10,
    };

    let tipo = TipoDeEdificio::Hospital;

    println!("{}", edificio.activar_funcion());
    println!("{}", tipo.activar_funcion());
}
```

**Salida**

```console
El edificio Edificio Central activa sus luces autom치ticas.
El hospital activa su sistema de emergencias.
```

---

## Conclusi칩n

En Rust, **Structs, Enums y Traits** trabajan juntos para organizar datos y definir comportamientos. Usando la analog칤a de una ciudad:

- Los structs son los planos de los edificios.
- Los enums son los tipos de edificios que puedes construir.
- Los traits son las habilidades que los edificios pueden tener.

Esta combinaci칩n permite crear software modular, claro y extensible, al igual que dise침ar una ciudad bien planificada.
